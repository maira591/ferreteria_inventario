@model IEnumerable<Core.Application.Website.Models.AutomaticLogCalculationModel>
@using NonFactors.Mvc.Grid

@(Html.Grid(Model).Build(columns =>
    {
        columns.Add(c => c.EntityType).Titled("Tipo Entidad").RenderedAs(x => x.EntityType == "1" ? "Financiera" : x.EntityType == "2" ? "Solidaria" : "Otra").UsingDefaultFilterMethod("contains");
        columns.Add(item => item.EntityCode).Titled("Código Entidad").UsingDefaultFilterMethod("contains");
        columns.Add(item => item.CutoffDate).Titled("Fecha Corte").RenderedAs(item => item.CutoffDate.ToString("dd/MM/yyyy")).Formatted("{0:d}").UsingDefaultFilterMethod("contains");
        columns.Add(item => item.ExecutionDate).Titled("Fecha Ejecución").RenderedAs(item => item.ExecutionDate.ToString("dd/MM/yyyy hh:mm:ss")).Formatted("{0:d}").UsingDefaultFilterMethod("contains");
        columns.Add(item => item.NameProcedure).Titled("Nombre SP Cálculo").UsingDefaultFilterMethod("contains");
        columns.Add(c => c.ExecutionStatus).Titled("Estado Ejecución").RenderedAs(x => x.ExecutionStatus ? "OK" : "ERROR").Sortable(false);
        columns.Add(item => item.Message).Titled("Mensaje").UsingDefaultFilterMethod("contains");
    }).Empty("No se encontraron datos").Filterable().Sortable().Id("my-ajax-grid").Pageable(pager =>
   {
       pager.PageSizes = new Dictionary<Int32, String>
    { { 0, "Todos" }, { 5, "5" }, { 10, "10" }, { 20, "20" }, { 50, "50" }, { 100, "100" } };
    pager.ShowPageSizes = true;
    pager.RowsPerPage = 5;
    }).Css("table table-bordered table-hover table-sm")

    )